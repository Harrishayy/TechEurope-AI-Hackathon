<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>TACTICAL HUD</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        cyan: '#00f0ff',
        'cyan-dim': 'rgba(0, 240, 255, 0.4)',
        'cyan-glow': 'rgba(0, 240, 255, 0.15)',
        'cyan-ultra': 'rgba(0, 240, 255, 0.07)',
        amber: '#ffaa00',
        'amber-dim': 'rgba(255, 170, 0, 0.5)',
        hud: {
          red: '#ff3344',
          green: '#00ff88',
        },
        'panel-bg': 'rgba(0, 10, 20, 0.55)',
        'panel-border': 'rgba(0, 240, 255, 0.2)',
      },
      fontFamily: {
        mono: ['"Share Tech Mono"', 'monospace'],
        display: ['"Orbitron"', 'sans-serif'],
      },
      keyframes: {
        cornerPulse: {
          '0%, 100%': { opacity: '0.5' },
          '50%': { opacity: '1' },
        },
        statusPulse: {
          '0%, 100%': { opacity: '1' },
          '50%': { opacity: '0.5' },
        },
        rotateSlow: {
          from: { transform: 'rotate(0deg)' },
          to: { transform: 'rotate(360deg)' },
        },
        rotateSlowReverse: {
          from: { transform: 'rotate(360deg)' },
          to: { transform: 'rotate(0deg)' },
        },
        centerPulse: {
          '0%, 100%': { opacity: '0.8' },
          '50%': { opacity: '0.3' },
        },
        radarSweep: {
          from: { transform: 'rotate(0deg)' },
          to: { transform: 'rotate(360deg)' },
        },
        blip: {
          '0%': { opacity: '0' },
          '10%': { opacity: '1' },
          '100%': { opacity: '0' },
        },
        scanH: {
          '0%, 100%': { transform: 'translateY(0)', opacity: '0.6' },
          '50%': { transform: 'translateY(80px)', opacity: '0.2' },
        },
        scanV: {
          '0%, 100%': { transform: 'translateX(0)', opacity: '0.6' },
          '50%': { transform: 'translateX(80px)', opacity: '0.2' },
        },
        scrollStream: {
          '0%': { transform: 'translateY(0)' },
          '100%': { transform: 'translateY(-50%)' },
        },
        bootFadeIn: {
          to: { opacity: '1' },
        },
        blink: {
          '0%, 100%': { opacity: '1' },
          '50%': { opacity: '0' },
        },
      },
      animation: {
        'corner-pulse': 'cornerPulse 3s ease-in-out infinite',
        'status-pulse': 'statusPulse 2s ease-in-out infinite',
        'rotate-12': 'rotateSlow 12s linear infinite',
        'rotate-8-rev': 'rotateSlowReverse 8s linear infinite',
        'rotate-20': 'rotateSlow 20s linear infinite',
        'rotate-6': 'rotateSlow 6s linear infinite',
        'rotate-10-rev': 'rotateSlowReverse 10s linear infinite',
        'center-pulse': 'centerPulse 2s ease-in-out infinite',
        'radar-sweep': 'radarSweep 4s linear infinite',
        blip: 'blip 4s ease-out infinite',
        'scan-h': 'scanH 3s ease-in-out infinite',
        'scan-v': 'scanV 4s ease-in-out infinite',
        'scroll-stream': 'scrollStream 20s linear infinite',
        'boot-fade': 'bootFadeIn 0.1s forwards',
        'boot-fade-slow': 'bootFadeIn 0.5s 0.2s forwards',
        blink: 'blink 0.6s step-end infinite',
      },
    },
  },
}
</script>
</head>
<body class="h-full overflow-hidden bg-black font-mono text-cyan antialiased cursor-none">

<!-- Permission Prompt -->
<div id="permissionPrompt" class="fixed inset-0 z-[200] bg-black flex flex-col items-center justify-center gap-5">
  <div class="w-20 h-20 border-2 border-cyan rounded-full flex items-center justify-center text-[32px] animate-corner-pulse">&#9673;</div>
  <div class="font-display text-sm tracking-[3px] text-cyan text-center">CAMERA ACCESS REQUIRED</div>
  <div class="text-[11px] text-cyan-dim tracking-wider">Tactical HUD requires visual feed</div>
  <button id="btnActivate" class="font-display text-xs font-bold tracking-[3px] text-black bg-cyan border-none py-3.5 px-10 cursor-pointer uppercase transition-all duration-200 pointer-events-auto shadow-[0_0_20px_rgba(0,240,255,0.4),0_0_40px_rgba(0,240,255,0.07)] hover:shadow-[0_0_30px_rgba(0,240,255,0.4),0_0_60px_rgba(0,240,255,0.07)] hover:scale-[1.02] active:scale-[0.98]">INITIALIZE SYSTEM</button>
</div>

<!-- Boot Sequence -->
<div id="bootScreen" class="hidden fixed inset-0 z-[100] bg-black flex flex-col items-center justify-center transition-opacity duration-[800ms]">
  <div class="font-display text-[28px] font-black tracking-[8px] text-cyan mb-10 opacity-0 animate-boot-fade-slow" style="text-shadow: 0 0 30px rgba(0,240,255,0.4), 0 0 60px rgba(0,240,255,0.07)">TACNET v4.7</div>
  <div id="bootText" class="font-mono text-xs text-cyan text-left w-80 leading-[1.8]"></div>
</div>

<!-- Camera -->
<video id="cameraFeed" class="fixed inset-0 w-full h-full object-cover z-0" autoplay playsinline muted></video>

<!-- Scanlines -->
<div class="fixed inset-0 z-[1] pointer-events-none" style="background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.03) 2px, rgba(0,0,0,0.03) 4px)"></div>

<!-- Vignette -->
<div class="fixed inset-0 z-[1] pointer-events-none" style="background: radial-gradient(ellipse at center, transparent 50%, rgba(0,0,0,0.6) 100%)"></div>

<!-- HUD -->
<div id="hud" class="fixed inset-0 z-10 pointer-events-none overflow-hidden" style="opacity:0">

  <!-- Corner brackets (outer) -->
  <div class="absolute top-5 left-5 w-[60px] h-[60px] border-t-2 border-l-2 border-cyan border-solid animate-corner-pulse max-[500px]:w-10 max-[500px]:h-10"></div>
  <div class="absolute top-5 right-5 w-[60px] h-[60px] border-t-2 border-r-2 border-cyan border-solid animate-corner-pulse max-[500px]:w-10 max-[500px]:h-10"></div>
  <div class="absolute bottom-5 left-5 w-[60px] h-[60px] border-b-2 border-l-2 border-cyan border-solid animate-corner-pulse max-[500px]:w-10 max-[500px]:h-10"></div>
  <div class="absolute bottom-5 right-5 w-[60px] h-[60px] border-b-2 border-r-2 border-cyan border-solid animate-corner-pulse max-[500px]:w-10 max-[500px]:h-10"></div>

  <!-- Corner brackets (inner) -->
  <div class="absolute top-[35px] left-[35px] w-[30px] h-[30px] border-t border-l border-cyan-dim border-solid max-[500px]:top-7 max-[500px]:left-7 max-[500px]:w-5 max-[500px]:h-5"></div>
  <div class="absolute top-[35px] right-[35px] w-[30px] h-[30px] border-t border-r border-cyan-dim border-solid max-[500px]:top-7 max-[500px]:right-7 max-[500px]:w-5 max-[500px]:h-5"></div>
  <div class="absolute bottom-[35px] left-[35px] w-[30px] h-[30px] border-b border-l border-cyan-dim border-solid max-[500px]:bottom-7 max-[500px]:left-7 max-[500px]:w-5 max-[500px]:h-5"></div>
  <div class="absolute bottom-[35px] right-[35px] w-[30px] h-[30px] border-b border-r border-cyan-dim border-solid max-[500px]:bottom-7 max-[500px]:right-7 max-[500px]:w-5 max-[500px]:h-5"></div>

  <!-- Horizontal divider lines -->
  <div class="absolute left-[90px] right-[90px] h-px max-[500px]:left-[50px] max-[500px]:right-[50px]" style="top: calc(max(12px, env(safe-area-inset-top)) + 55px); background: linear-gradient(90deg, transparent, rgba(0,240,255,0.07) 20%, rgba(0,240,255,0.07) 80%, transparent)"></div>
  <div class="absolute left-[90px] right-[90px] h-px max-[500px]:left-[50px] max-[500px]:right-[50px]" style="bottom: calc(max(12px, env(safe-area-inset-bottom)) + 42px); background: linear-gradient(90deg, transparent, rgba(0,240,255,0.07) 20%, rgba(0,240,255,0.07) 80%, transparent)"></div>

  <!-- Top bar -->
  <div class="absolute top-0 left-0 right-0 flex justify-between items-start px-5 pt-3" style="padding-top: max(12px, env(safe-area-inset-top))">
    <div class="flex flex-col gap-0.5">
      <div class="font-display text-[8px] font-bold tracking-[2px] text-cyan-dim uppercase">LOCAL TIME</div>
      <div class="text-xs tracking-wider" style="text-shadow: 0 0 8px rgba(0,240,255,0.15)" id="hudTime">00:00:00</div>
      <div class="font-display text-[8px] font-bold tracking-[2px] text-cyan-dim uppercase mt-1">DATE</div>
      <div class="text-xs tracking-wider" style="text-shadow: 0 0 8px rgba(0,240,255,0.15)" id="hudDate">2026.02.21</div>
    </div>
    <div class="flex flex-col items-center absolute left-1/2 -translate-x-1/2" style="top: max(12px, env(safe-area-inset-top))">
      <div class="font-display text-sm font-black tracking-[4px] text-cyan" style="text-shadow: 0 0 20px rgba(0,240,255,0.4), 0 0 40px rgba(0,240,255,0.07)">TACNET</div>
      <div class="text-[9px] tracking-[3px] text-cyan-dim text-center">AUGMENTED REALITY SYSTEM</div>
      <div class="flex items-center gap-1.5 mt-1 justify-center">
        <div class="w-1.5 h-1.5 rounded-full bg-hud-green animate-status-pulse" style="box-shadow: 0 0 8px #00ff88"></div>
        <span class="text-hud-green text-[9px] tracking-[2px]">SYSTEM ONLINE</span>
      </div>
    </div>
    <div class="flex flex-col items-end gap-0.5">
      <div class="font-display text-[8px] font-bold tracking-[2px] text-cyan-dim uppercase">POSITION</div>
      <div class="text-xs tracking-wider" style="text-shadow: 0 0 8px rgba(0,240,255,0.15)" id="hudCoords">--&deg;--'--" N</div>
      <div class="text-xs tracking-wider" style="text-shadow: 0 0 8px rgba(0,240,255,0.15)" id="hudCoords2">--&deg;--'--" W</div>
      <div class="font-display text-[8px] font-bold tracking-[2px] text-cyan-dim uppercase mt-1">FPS</div>
      <div class="text-xs tracking-wider" style="text-shadow: 0 0 8px rgba(0,240,255,0.15)" id="hudFps">--</div>
    </div>
  </div>

  <!-- Compass strip -->
  <div class="absolute left-1/2 -translate-x-1/2 w-[280px] h-7 overflow-hidden border-l border-r border-cyan-dim" style="top: calc(max(12px, env(safe-area-inset-top)) + 58px)">
    <!-- Triangle indicator via inline SVG -->
    <div class="absolute top-0 left-1/2 -translate-x-1/2 z-[2]" style="filter: drop-shadow(0 0 4px #00f0ff)">
      <svg width="10" height="6" viewBox="0 0 10 6"><polygon points="0,0 10,0 5,6" fill="#00f0ff"/></svg>
    </div>
    <div id="compassInner" class="flex items-center h-full text-[10px] tracking-wider whitespace-nowrap will-change-transform"></div>
  </div>

  <!-- Center reticle -->
  <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[200px] h-[200px] max-[500px]:w-[150px] max-[500px]:h-[150px]">
    <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" class="w-full h-full" style="filter: drop-shadow(0 0 6px rgba(0,240,255,0.4))">
      <circle cx="100" cy="100" r="90" fill="none" stroke="#00f0ff" stroke-width="1" stroke-dasharray="8 4 2 4" opacity="0.6" class="origin-center animate-rotate-12" />
      <circle cx="100" cy="100" r="78" fill="none" stroke="#00f0ff" stroke-width="2" stroke-linecap="round" stroke-dasharray="30 15 10 15" opacity="0.6" class="origin-center animate-rotate-6" />
      <circle cx="100" cy="100" r="72" fill="none" stroke="#ffaa00" stroke-width="2" stroke-linecap="round" stroke-dasharray="20 30 5 20" opacity="0.6" class="origin-center animate-rotate-10-rev" />
      <circle cx="100" cy="100" r="55" fill="none" stroke="#00f0ff" stroke-width="1.5" stroke-dasharray="12 6 3 6" opacity="0.8" class="origin-center animate-rotate-8-rev" />
      <circle cx="100" cy="100" r="35" fill="none" stroke="#00f0ff" stroke-width="1" stroke-dasharray="4 8" opacity="0.4" class="origin-center animate-rotate-20" />
      <line x1="100" y1="60" x2="100" y2="85" stroke="#00f0ff" stroke-width="0.5" opacity="0.5" />
      <line x1="100" y1="115" x2="100" y2="140" stroke="#00f0ff" stroke-width="0.5" opacity="0.5" />
      <line x1="60" y1="100" x2="85" y2="100" stroke="#00f0ff" stroke-width="0.5" opacity="0.5" />
      <line x1="115" y1="100" x2="140" y2="100" stroke="#00f0ff" stroke-width="0.5" opacity="0.5" />
      <line x1="75" y1="75" x2="82" y2="82" stroke="#00f0ff" stroke-width="0.5" opacity="0.5" />
      <line x1="125" y1="75" x2="118" y2="82" stroke="#00f0ff" stroke-width="0.5" opacity="0.5" />
      <line x1="75" y1="125" x2="82" y2="118" stroke="#00f0ff" stroke-width="0.5" opacity="0.5" />
      <line x1="125" y1="125" x2="118" y2="118" stroke="#00f0ff" stroke-width="0.5" opacity="0.5" />
      <circle cx="100" cy="100" r="2" fill="#00f0ff" opacity="0.8" class="animate-center-pulse" />
      <text x="100" y="52" text-anchor="middle" fill="#00f0ff" font-family="'Share Tech Mono', monospace" font-size="7" opacity="0.5">0</text>
      <text x="100" y="155" text-anchor="middle" fill="#00f0ff" font-family="'Share Tech Mono', monospace" font-size="7" opacity="0.5">180</text>
      <text x="48" y="103" text-anchor="middle" fill="#00f0ff" font-family="'Share Tech Mono', monospace" font-size="7" opacity="0.5">270</text>
      <text x="152" y="103" text-anchor="middle" fill="#00f0ff" font-family="'Share Tech Mono', monospace" font-size="7" opacity="0.5">90</text>
    </svg>
  </div>

  <!-- Left panel — Telemetry -->
  <div class="absolute left-4 top-1/2 -translate-y-1/2 w-[130px] flex flex-col gap-2 max-[500px]:hidden min-[501px]:max-[800px]:w-[100px]">
    <div class="bg-panel-bg border border-panel-border rounded-sm p-1.5 backdrop-blur-[4px]">
      <div class="font-display text-[7px] font-bold tracking-[2px] text-cyan-dim mb-0.5">HEART RATE</div>
      <div class="text-sm tracking-wider text-cyan" style="text-shadow: 0 0 8px rgba(0,240,255,0.15)" id="telHr">72 BPM</div>
      <div class="h-0.5 bg-cyan-ultra mt-1 rounded-sm overflow-hidden"><div id="hrBar" class="h-full bg-hud-green rounded-sm transition-all duration-1000" style="width:72%; box-shadow: 0 0 6px rgba(0,255,136,0.5)"></div></div>
    </div>
    <div class="bg-panel-bg border border-panel-border rounded-sm p-1.5 backdrop-blur-[4px]">
      <div class="font-display text-[7px] font-bold tracking-[2px] text-cyan-dim mb-0.5">BLOOD O2</div>
      <div class="text-sm tracking-wider text-cyan" style="text-shadow: 0 0 8px rgba(0,240,255,0.15)" id="telO2">98%</div>
      <div class="h-0.5 bg-cyan-ultra mt-1 rounded-sm overflow-hidden"><div id="o2Bar" class="h-full bg-cyan rounded-sm transition-all duration-1000" style="width:98%; box-shadow: 0 0 6px rgba(0,240,255,0.4)"></div></div>
    </div>
    <div class="bg-panel-bg border border-panel-border rounded-sm p-1.5 backdrop-blur-[4px]">
      <div class="font-display text-[7px] font-bold tracking-[2px] text-cyan-dim mb-0.5">CORE TEMP</div>
      <div class="text-sm tracking-wider text-cyan" style="text-shadow: 0 0 8px rgba(0,240,255,0.15)" id="telTemp">36.8&deg;C</div>
      <div class="h-0.5 bg-cyan-ultra mt-1 rounded-sm overflow-hidden"><div class="h-full bg-cyan rounded-sm" style="width:68%; box-shadow: 0 0 6px rgba(0,240,255,0.4)"></div></div>
    </div>
    <div class="bg-panel-bg border border-panel-border rounded-sm p-1.5 backdrop-blur-[4px]">
      <div class="font-display text-[7px] font-bold tracking-[2px] text-cyan-dim mb-0.5">POWER CELL</div>
      <div class="text-sm tracking-wider text-cyan" style="text-shadow: 0 0 8px rgba(0,240,255,0.15)" id="telPower">87%</div>
      <div class="h-0.5 bg-cyan-ultra mt-1 rounded-sm overflow-hidden"><div id="powerBar" class="h-full bg-amber rounded-sm transition-all duration-1000" style="width:87%; box-shadow: 0 0 6px rgba(255,170,0,0.5)"></div></div>
    </div>
    <div class="bg-panel-bg border border-panel-border rounded-sm p-1.5 backdrop-blur-[4px]">
      <div class="font-display text-[7px] font-bold tracking-[2px] text-cyan-dim mb-0.5">ALTITUDE</div>
      <div class="text-sm tracking-wider text-cyan" style="text-shadow: 0 0 8px rgba(0,240,255,0.15)" id="telAlt">47m ASL</div>
    </div>
  </div>

  <!-- Right panel — Systems -->
  <div class="absolute right-4 top-1/2 -translate-y-1/2 w-[130px] flex flex-col gap-2 max-[500px]:hidden min-[501px]:max-[800px]:w-[100px]">
    <div class="bg-panel-bg border border-panel-border rounded-sm p-1.5 backdrop-blur-[4px]">
      <div class="font-display text-[7px] font-bold tracking-[2px] text-cyan-dim mb-0.5">SUBSYSTEMS</div>
      <div class="flex justify-between items-center text-[9px] tracking-wide py-px"><span class="text-white/30">OPTICS</span><span class="text-hud-green">ONLINE</span></div>
      <div class="flex justify-between items-center text-[9px] tracking-wide py-px"><span class="text-white/30">NAV</span><span class="text-hud-green">ONLINE</span></div>
      <div class="flex justify-between items-center text-[9px] tracking-wide py-px"><span class="text-white/30">COMMS</span><span class="text-hud-green">ONLINE</span></div>
      <div class="flex justify-between items-center text-[9px] tracking-wide py-px"><span class="text-white/30">SHIELD</span><span class="text-amber">STANDBY</span></div>
      <div class="flex justify-between items-center text-[9px] tracking-wide py-px"><span class="text-white/30">WEAPONS</span><span class="text-hud-red">LOCKED</span></div>
    </div>
    <div class="bg-panel-bg border border-panel-border rounded-sm p-1.5 backdrop-blur-[4px]">
      <div class="font-display text-[7px] font-bold tracking-[2px] text-cyan-dim mb-0.5">NETWORK</div>
      <div class="flex justify-between items-center text-[9px] tracking-wide py-px"><span class="text-white/30">LATENCY</span><span class="text-cyan" id="sysLatency">12ms</span></div>
      <div class="flex justify-between items-center text-[9px] tracking-wide py-px"><span class="text-white/30">NODES</span><span class="text-cyan" id="sysNodes">7</span></div>
      <div class="flex justify-between items-center text-[9px] tracking-wide py-px"><span class="text-white/30">ENCRYPT</span><span class="text-hud-green">AES-512</span></div>
    </div>
    <div class="bg-panel-bg border border-panel-border rounded-sm p-1.5 backdrop-blur-[4px]">
      <div class="font-display text-[7px] font-bold tracking-[2px] text-cyan-dim mb-0.5">THREAT LEVEL</div>
      <div class="flex justify-between items-center text-[9px] tracking-wide py-px"><span class="text-white/30">STATUS</span><span class="text-hud-green" id="threatStatus">CLEAR</span></div>
      <div class="flex justify-between items-center text-[9px] tracking-wide py-px"><span class="text-white/30">CONTACTS</span><span class="text-cyan" id="threatContacts">0</span></div>
    </div>
  </div>

  <!-- Side ticks -->
  <div id="sideTicksL" class="absolute left-2 top-1/2 -translate-y-1/2 flex flex-col gap-3 items-start max-[500px]:hidden"></div>
  <div id="sideTicksR" class="absolute right-2 top-1/2 -translate-y-1/2 flex flex-col gap-3 items-end max-[500px]:hidden"></div>

  <!-- Data stream -->
  <div class="absolute right-[155px] top-1/2 -translate-y-1/2 h-[200px] w-[100px] overflow-hidden opacity-25 text-[8px] leading-relaxed tracking-wide text-cyan max-[800px]:hidden" style="-webkit-mask-image: linear-gradient(to bottom, transparent 0%, white 20%, white 80%, transparent 100%); mask-image: linear-gradient(to bottom, transparent 0%, white 20%, white 80%, transparent 100%)">
    <div id="dataStream" class="animate-scroll-stream whitespace-pre-wrap"></div>
  </div>

  <!-- Radar -->
  <div class="absolute left-5 w-[90px] h-[90px] max-[500px]:w-[70px] max-[500px]:h-[70px]" style="bottom: calc(max(12px, env(safe-area-inset-bottom)) + 48px)">
    <svg viewBox="0 0 90 90" xmlns="http://www.w3.org/2000/svg" class="w-full h-full" style="filter: drop-shadow(0 0 4px rgba(0,240,255,0.07))">
      <circle cx="45" cy="45" r="40" fill="none" stroke="#00f0ff" stroke-width="0.5" opacity="0.15" />
      <circle cx="45" cy="45" r="27" fill="none" stroke="#00f0ff" stroke-width="0.5" opacity="0.15" />
      <circle cx="45" cy="45" r="14" fill="none" stroke="#00f0ff" stroke-width="0.5" opacity="0.15" />
      <line x1="5" y1="45" x2="85" y2="45" stroke="#00f0ff" stroke-width="0.3" opacity="0.15" />
      <line x1="45" y1="5" x2="45" y2="85" stroke="#00f0ff" stroke-width="0.3" opacity="0.15" />
      <g class="origin-center animate-radar-sweep">
        <line x1="45" y1="45" x2="45" y2="5" stroke="#00f0ff" stroke-width="1" opacity="0.8" />
        <path d="M 45 45 L 45 5 A 40 40 0 0 1 73 17 Z" fill="url(#sweepGrad)" />
      </g>
      <defs>
        <linearGradient id="sweepGrad" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="#00f0ff" stop-opacity="0.3" />
          <stop offset="100%" stop-color="#00f0ff" stop-opacity="0" />
        </linearGradient>
      </defs>
      <circle cx="58" cy="28" r="2" fill="#00f0ff" opacity="0" class="animate-blip" />
      <circle cx="32" cy="55" r="2" fill="#00f0ff" opacity="0" class="animate-blip" style="animation-delay: 1.3s" />
      <circle cx="65" cy="60" r="1.5" fill="#00f0ff" opacity="0" class="animate-blip" style="animation-delay: 2.7s" />
      <circle cx="45" cy="45" r="2" fill="#00f0ff" opacity="0.9" />
    </svg>
  </div>

  <!-- Threat Grid -->
  <div class="absolute right-5 w-[90px] h-[90px] max-[500px]:w-[70px] max-[500px]:h-[70px]" style="bottom: calc(max(12px, env(safe-area-inset-bottom)) + 48px)">
    <svg viewBox="0 0 90 90" xmlns="http://www.w3.org/2000/svg" class="w-full h-full">
      <line x1="0" y1="0" x2="90" y2="0" stroke="#00f0ff" stroke-width="0.5" opacity="0.12" />
      <line x1="0" y1="15" x2="90" y2="15" stroke="#00f0ff" stroke-width="0.5" opacity="0.12" />
      <line x1="0" y1="30" x2="90" y2="30" stroke="#00f0ff" stroke-width="0.5" opacity="0.12" />
      <line x1="0" y1="45" x2="90" y2="45" stroke="#00f0ff" stroke-width="0.5" opacity="0.12" />
      <line x1="0" y1="60" x2="90" y2="60" stroke="#00f0ff" stroke-width="0.5" opacity="0.12" />
      <line x1="0" y1="75" x2="90" y2="75" stroke="#00f0ff" stroke-width="0.5" opacity="0.12" />
      <line x1="0" y1="90" x2="90" y2="90" stroke="#00f0ff" stroke-width="0.5" opacity="0.12" />
      <line x1="0" y1="0" x2="0" y2="90" stroke="#00f0ff" stroke-width="0.5" opacity="0.12" />
      <line x1="15" y1="0" x2="15" y2="90" stroke="#00f0ff" stroke-width="0.5" opacity="0.12" />
      <line x1="30" y1="0" x2="30" y2="90" stroke="#00f0ff" stroke-width="0.5" opacity="0.12" />
      <line x1="45" y1="0" x2="45" y2="90" stroke="#00f0ff" stroke-width="0.5" opacity="0.12" />
      <line x1="60" y1="0" x2="60" y2="90" stroke="#00f0ff" stroke-width="0.5" opacity="0.12" />
      <line x1="75" y1="0" x2="75" y2="90" stroke="#00f0ff" stroke-width="0.5" opacity="0.12" />
      <line x1="90" y1="0" x2="90" y2="90" stroke="#00f0ff" stroke-width="0.5" opacity="0.12" />
      <line x1="0" y1="0" x2="90" y2="0" stroke="#00f0ff" stroke-width="1" opacity="0.6" class="animate-scan-h" />
      <line x1="0" y1="0" x2="0" y2="90" stroke="#00f0ff" stroke-width="1" opacity="0.6" class="animate-scan-v" />
      <text x="45" y="48" text-anchor="middle" fill="#00f0ff" font-family="'Orbitron', sans-serif" font-size="6" letter-spacing="2" opacity="0.5">SECTOR 7G</text>
    </svg>
  </div>

  <!-- Bottom bar -->
  <div class="absolute bottom-0 left-0 right-0 flex justify-between items-end px-5 pb-3" style="padding-bottom: max(12px, env(safe-area-inset-bottom))">
    <div class="flex flex-col gap-0.5">
      <div class="font-display text-[8px] font-bold tracking-[2px] text-cyan-dim uppercase">MISSION</div>
      <div class="text-[10px] tracking-wider" style="text-shadow: 0 0 8px rgba(0,240,255,0.15)" id="missionTimer">00:00:00</div>
    </div>
    <div class="flex flex-col gap-0.5 items-end">
      <div class="font-display text-[8px] font-bold tracking-[2px] text-cyan-dim uppercase">FEED RES</div>
      <div class="text-[10px] tracking-wider" style="text-shadow: 0 0 8px rgba(0,240,255,0.15)" id="feedRes">--x--</div>
    </div>
  </div>

</div>

<script>
(function() {
  'use strict';

  const video = document.getElementById('cameraFeed');
  const hud = document.getElementById('hud');
  const permissionPrompt = document.getElementById('permissionPrompt');
  const btnActivate = document.getElementById('btnActivate');
  const bootScreen = document.getElementById('bootScreen');
  const bootText = document.getElementById('bootText');

  const bootLines = [
    'TACNET KERNEL v4.7.2 LOADING...',
    'INIT MEMORY............ 64GB OK',
    'INIT GPU CORES......... 2048 OK',
    'OPTICAL ARRAY........... LINKED',
    'LOADING NEURAL MESH..... DONE',
    'CALIBRATING SENSORS..... DONE',
    'GEOLOCATION............ ACTIVE',
    'THREAT DETECTION........ ARMED',
    'BIOMETRIC LINK......... SYNCED',
    'ENCRYPTION............. AES-512',
    'COMMS UPLINK............ SECURE',
    '',
    'ALL SYSTEMS NOMINAL.',
    'WELCOME, OPERATOR.',
  ];

  function runBootSequence() {
    bootScreen.classList.remove('hidden');
    bootScreen.classList.add('flex');
    bootText.innerHTML = '';

    let i = 0;
    function addLine() {
      if (i >= bootLines.length) {
        setTimeout(() => {
          bootScreen.style.opacity = '0';
          bootScreen.style.pointerEvents = 'none';
          setTimeout(() => {
            bootScreen.classList.add('hidden');
            bootScreen.classList.remove('flex');
            hud.style.transition = 'opacity 1s ease';
            hud.style.opacity = '1';
            startHUD();
          }, 800);
        }, 600);
        return;
      }

      const line = document.createElement('div');
      line.className = 'opacity-0 animate-boot-fade';

      if (i === bootLines.length - 1) {
        line.innerHTML = bootLines[i] + ' <span class="inline-block w-[7px] h-3.5 bg-cyan animate-blink align-middle ml-0.5"></span>';
      } else {
        line.textContent = bootLines[i];
      }

      bootText.appendChild(line);
      bootText.scrollTop = bootText.scrollHeight;
      i++;

      const delay = bootLines[i - 1] === '' ? 200 : 80 + Math.random() * 60;
      setTimeout(addLine, delay);
    }

    addLine();
  }

  btnActivate.addEventListener('click', async () => {
    try {
      const stream = await navigator.mediaDevices.getUserMedia({
        video: { facingMode: 'environment', width: { ideal: 1920 }, height: { ideal: 1080 } }
      });
      video.srcObject = stream;
      video.play();
      permissionPrompt.classList.add('hidden');
      runBootSequence();
    } catch (err) {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({
          video: { facingMode: 'user', width: { ideal: 1920 }, height: { ideal: 1080 } }
        });
        video.srcObject = stream;
        video.play();
        permissionPrompt.classList.add('hidden');
        runBootSequence();
      } catch (err2) {
        alert('Camera access denied. HUD requires camera feed.');
      }
    }
  });

  function buildCompass() {
    const container = document.getElementById('compassInner');
    const dirs = ['N','NNE','NE','ENE','E','ESE','SE','SSE','S','SSW','SW','WSW','W','WNW','NW','NNW'];
    const degs = [0,22.5,45,67.5,90,112.5,135,157.5,180,202.5,225,247.5,270,292.5,315,337.5];

    let html = '';
    for (let rep = 0; rep < 2; rep++) {
      for (let i = 0; i < dirs.length; i++) {
        const isCardinal = dirs[i].length === 1;
        if (isCardinal) {
          html += `<span class="inline-flex items-center justify-center min-w-[40px] text-cyan font-display font-bold text-[11px]" style="text-shadow: 0 0 6px rgba(0,240,255,0.4)">${Math.round(degs[i])}&deg;${dirs[i]}</span>`;
          html += `<span class="inline-block w-px h-3.5 bg-cyan mx-[19px]"></span>`;
        } else {
          html += `<span class="inline-flex items-center justify-center min-w-[40px] text-cyan-dim text-[9px]">${Math.round(degs[i])}&deg;${dirs[i]}</span>`;
          html += `<span class="inline-block w-px h-2 bg-cyan-dim mx-[19px]"></span>`;
        }
      }
    }
    container.innerHTML = html;
  }

  function buildSideTicks() {
    const left = document.getElementById('sideTicksL');
    const right = document.getElementById('sideTicksR');
    let html = '';
    for (let i = 0; i < 20; i++) {
      if (i % 5 === 0) {
        html += `<div class="w-2 h-px bg-cyan"></div>`;
      } else {
        html += `<div class="w-1 h-px bg-cyan-dim"></div>`;
      }
    }
    left.innerHTML = html;
    right.innerHTML = html;
  }

  function buildDataStream() {
    const el = document.getElementById('dataStream');
    const entries = [];
    const prefixes = ['SYS','NET','OPT','NAV','SEC','BIO','PWR','COM','TGT','RAD'];
    const hex = '0123456789ABCDEF';

    for (let i = 0; i < 60; i++) {
      const prefix = prefixes[Math.floor(Math.random() * prefixes.length)];
      let val = '';
      for (let j = 0; j < 8; j++) val += hex[Math.floor(Math.random() * 16)];
      entries.push(`${prefix}:0x${val}`);
    }

    const text = entries.join('\n') + '\n' + entries.join('\n');
    el.textContent = text;
  }

  let currentLat = null, currentLon = null;

  function formatCoord(deg, pos, neg) {
    const dir = deg >= 0 ? pos : neg;
    deg = Math.abs(deg);
    const d = Math.floor(deg);
    const m = Math.floor((deg - d) * 60);
    const s = ((deg - d - m / 60) * 3600).toFixed(1);
    return `${d}\u00B0${String(m).padStart(2,'0')}'${String(s).padStart(4,'0')}" ${dir}`;
  }

  function updateGeo() {
    if ('geolocation' in navigator) {
      navigator.geolocation.getCurrentPosition(pos => {
        currentLat = pos.coords.latitude;
        currentLon = pos.coords.longitude;
        document.getElementById('hudCoords').textContent = formatCoord(currentLat, 'N', 'S');
        document.getElementById('hudCoords2').textContent = formatCoord(currentLon, 'E', 'W');
        if (pos.coords.altitude !== null) {
          document.getElementById('telAlt').textContent = Math.round(pos.coords.altitude) + 'm ASL';
        }
      }, () => {
        document.getElementById('hudCoords').textContent = '51\u00B030\'26.4" N';
        document.getElementById('hudCoords2').textContent = '0\u00B007\'39.5" W';
      });
    }
  }

  let missionStart = null;
  let frameCount = 0;
  let lastFpsTime = 0;
  let currentHeading = 0;
  let powerLevel = 87;

  function updateHUD(timestamp) {
    frameCount++;
    if (timestamp - lastFpsTime >= 1000) {
      document.getElementById('hudFps').textContent = frameCount;
      frameCount = 0;
      lastFpsTime = timestamp;
    }

    const now = new Date();
    document.getElementById('hudTime').textContent =
      String(now.getHours()).padStart(2,'0') + ':' +
      String(now.getMinutes()).padStart(2,'0') + ':' +
      String(now.getSeconds()).padStart(2,'0');

    const dateStr = now.getFullYear() + '.' +
      String(now.getMonth()+1).padStart(2,'0') + '.' +
      String(now.getDate()).padStart(2,'0');
    document.getElementById('hudDate').textContent = dateStr;

    if (missionStart) {
      const elapsed = Math.floor((Date.now() - missionStart) / 1000);
      const h = String(Math.floor(elapsed / 3600)).padStart(2,'0');
      const m = String(Math.floor((elapsed % 3600) / 60)).padStart(2,'0');
      const s = String(elapsed % 60).padStart(2,'0');
      document.getElementById('missionTimer').textContent = `${h}:${m}:${s}`;
    }

    currentHeading += (Math.random() - 0.48) * 0.3;
    if (currentHeading < 0) currentHeading += 360;
    if (currentHeading >= 360) currentHeading -= 360;
    const compassEl = document.getElementById('compassInner');
    const totalWidth = compassEl.scrollWidth / 2;
    const offset = (currentHeading / 360) * totalWidth;
    compassEl.style.transform = `translateX(calc(-${offset}px + 140px))`;

    if (video.videoWidth) {
      document.getElementById('feedRes').textContent = video.videoWidth + 'x' + video.videoHeight;
    }

    if (Math.random() < 0.05) {
      const hr = 68 + Math.floor(Math.random() * 12);
      document.getElementById('telHr').textContent = hr + ' BPM';
      document.getElementById('hrBar').style.width = hr + '%';
    }
    if (Math.random() < 0.03) {
      const o2 = 96 + Math.floor(Math.random() * 4);
      document.getElementById('telO2').textContent = o2 + '%';
      document.getElementById('o2Bar').style.width = o2 + '%';
    }
    if (Math.random() < 0.02) {
      const temp = (36.5 + Math.random() * 0.6).toFixed(1);
      document.getElementById('telTemp').textContent = temp + '\u00B0C';
    }

    if (Math.random() < 0.01) {
      powerLevel = Math.max(20, powerLevel - 0.1);
      document.getElementById('telPower').textContent = Math.round(powerLevel) + '%';
      document.getElementById('powerBar').style.width = powerLevel + '%';
    }

    if (Math.random() < 0.04) {
      const lat = 8 + Math.floor(Math.random() * 15);
      document.getElementById('sysLatency').textContent = lat + 'ms';
      document.getElementById('sysNodes').textContent = 5 + Math.floor(Math.random() * 5);
    }

    requestAnimationFrame(updateHUD);
  }

  function initOrientation() {
    if (window.DeviceOrientationEvent) {
      if (typeof DeviceOrientationEvent.requestPermission === 'function') {
        DeviceOrientationEvent.requestPermission().then(state => {
          if (state === 'granted') {
            window.addEventListener('deviceorientation', handleOrientation);
          }
        }).catch(() => {});
      } else {
        window.addEventListener('deviceorientation', handleOrientation);
      }
    }
  }

  function handleOrientation(e) {
    if (e.alpha !== null) {
      currentHeading = e.alpha;
    }
  }

  function startHUD() {
    missionStart = Date.now();
    buildCompass();
    buildSideTicks();
    buildDataStream();
    updateGeo();
    initOrientation();
    setInterval(updateGeo, 10000);
    requestAnimationFrame(updateHUD);
  }

})();
</script>
</body>
</html>
